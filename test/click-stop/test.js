var path = require('path');
var fs = require('fs');

module.exports = {
  'init': function(browser) {
    browser
      .url('file://' + path.join(__dirname, 'index.html'))
      .waitForElementVisible('body', 500)
      .assert.value('input', 'data:image/png;base64,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')
      .moveToElement('canvas', 10, 10)
      .mouseButtonClick(0)
      .assert.value('input', '0')
      .moveToElement('canvas', 10, 10)
      .mouseButtonClick(0)
      .assert.value('input', '1')
      .end();
  }
};
